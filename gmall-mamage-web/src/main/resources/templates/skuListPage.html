<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="skulist_dlg" class="easyui-dialog" title="sku列表" style="width:700px;height:520px;"
     closed="true"  data-options="resizable:true,modal:false"   >
    <!-----------------列表 ----------------------------->
    <table id="skulist_dg" class="easyui-datagrid"
           data-options="singleSelect:true,method:'get',toolbar:'#skulist_tb'">
        <thead>
        <tr>
            <th data-options="field:'id'" width="10%">库存单元id </th>
            <th data-options="field:'skuName'" width="60%">库存单元名称</th>
            <th data-options="field:'price'" width="30%">价格</th>
            <th data-options="field:'weight',hidden:'true'" >重量</th>
            <th data-options="field:'catalog3Id',hidden:'true'">三级分类</th>
            <th data-options="field:'skuImageList',hidden:'true'"  >图片列表</th>
            <th data-options="field:'skuAttrValueList',hidden:'true'"  >平台属性</th>
            <th data-options="field:'skuSaleAttrValueList',hidden:'true'"  >销售属性</th>
            <th data-options="field:'skuDesc',hidden:'true'"  >商品描述 </th>
            <th data-options="field:'skuDefaultImg',hidden:'true'">默认图片 </th>
        </tr>
        </thead>
    </table>
    <!-----------------列表的工具栏----------------------------->
    <div id="skulist_tb" style="padding:5px;height:auto">
        <div style="margin-bottom:5px">

            <a href="javascript:editSkuList();" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="editSkuInfo()">编辑</a>
            <a href="#" class="easyui-linkbutton" iconCls="icon-remove" plain="true">删除</a>
        </div>
        <input id="spuIdForSkuList" name="spuIdForSkuId" type="hidden"/>
        <input id="catalog3IdForSkuList" name="catalog3IdForSkuId" type="hidden"/>
        <div>
            <a href="#" class="easyui-linkbutton" iconCls="icon-search"  onclick="reloadSkuList()"  >刷新列表</a>
        </div>
    </div>
</div>


<div id="editSkuList_dd" class="easyui-dialog" title="编辑销售属性" style="width:400px;height:400px;"
     data-options="buttons:'#editSkuList_bb',closed:true,iconCls:'icon-save',resizable:true,modal:true">
    <br/><br/><br/>
    库存单元名称：<input id="skuNameByEdit" class="easyui-textbox"  style="width:200px">
    <br/><br/><br/>
    价格：<input id="skuPriceByEdit" class="easyui-textbox"  style="width:200px">
    <br/><br/>



</div>

<div id="editSkuList_bb">
    <a href="javascript:editSkuListSure();"class="easyui-linkbutton">确定</a>
    <a  href="#" class="easyui-linkbutton" >取消</a>
</div>

<SCRIPT language="JavaScript">
    function initSkuListDatagrid(spuId) {
        $("#skulist_dg").datagrid({
            url:"skuInfoListBySpu?spuId="+spuId
        });
    }

    function editSkuList(){
        $("#editSkuList_dd").dialog('open');
      var selectRow =   $("#skulist_dg").datagrid('getSelected');

      var id = selectRow.id;

      var skuName = selectRow.skuName;

      var price = selectRow.price;

        $("#skuNameByEdit").textbox('setValue',skuName);
        $("#skuPriceByEdit").textbox('setValue',price);

    }

    function editSkuListSure(){
        alert("7777");

        var editSkuListJson = {};

        var skuName =  $("#skuNameByEdit").textbox('getValue');
        var price = $("#skuPriceByEdit").textbox('getValue');
        var selectRow =   $("#skulist_dg").datagrid('getSelected');
        var selectRow =   $("#skulist_dg").datagrid('getSelected');
        var id = selectRow.id;

        editSkuListJson["skuName"] = skuName;
        editSkuListJson["price"] = price;
        editSkuListJson["id"] = id;

        $.post("editSkuList",editSkuListJson,function(data){
            alert(data);
        });



    }
</SCRIPT>
</body>
</html>